<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZhinNX - Zero-Build Framework</title>

    <!-- Import Map for Bare Modules -->
    <script type="importmap">
    {
        "imports": {
            "@zhinnx/core": "/packages/core/index.js",
            "@zhinnx/server": "/packages/server/index.js",
            "@zhinnx/font": "/packages/font/index.js",
            "@zhinnx/ui": "/packages/ui/index.js",
            "@zhinnx/ytdl": "/packages/ytdl/index.js",
            "gray-matter": "https://esm.sh/gray-matter@4.0.3",
            "marked": "https://esm.sh/marked@17.0.1"
        }
    }
    </script>

    <!-- Styles -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap');
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #ffffff;
            color: #000000;
            text-rendering: optimizeSpeed;
        }
        .comic-shadow, .comic-shadow-sm, .comic-shadow-hover {
            will-change: transform, box-shadow;
        }
        .comic-border { border: 2px solid #000000; }
        .comic-border-t { border-top: 2px solid #000000; }
        .comic-border-b { border-bottom: 2px solid #000000; }
        .comic-border-r { border-right: 2px solid #000000; }
        .comic-shadow { box-shadow: 4px 4px 0px 0px #000000; }
        .comic-shadow-sm { box-shadow: 2px 2px 0px 0px #000000; }
        .comic-shadow-hover:hover { box-shadow: 6px 6px 0px 0px #000000; transform: translate(-2px, -2px); }
        .comic-shadow-active:active { box-shadow: 2px 2px 0px 0px #000000; transform: translate(2px, 2px); }
        ::selection { background-color: #000; color: #fff; }
    </style>
</head>
<body>
    <div id="app"></div>
    <script type="module">
        import * as mod from '/src/app.js';

        // Define routes map for client-side routing if needed
        // Assuming app.js or Router handles route discovery or uses a static map
        // For file-based routing without server scan, we might need a manual map or fetch one
        // But for now, let's just mount the app which should initialize the router.

        // In client-only mode, we need to provide the route map to the router somehow?
        // The router expects window.__ROUTES__ usually injected by SSR.
        // If not present, we must fetch it or define it.
        // Let's try to fetch it from API? Or define a static list of known routes for the demo site.

        const staticRoutes = {
            '/': { regex: '^/$', importPath: './pages/index.js' },
            '/docs': { regex: '^/docs$', importPath: './pages/docs/index.js' },
            '/plugins': { regex: '^/plugins$', importPath: './pages/plugins.js' },
            '/font': { regex: '^/font$', component: null }, // Handled by plugin
            '/ytdl': { regex: '^/ytdl$', component: null }  // Handled by plugin
        };

        // Add dynamic docs route
        staticRoutes['/docs/:category/:slug'] = {
            regex: '^/docs/([^/]+)/([^/]+)$',
            importPath: './pages/docs/[category]/[slug].js',
            params: ['category', 'slug']
        };

        window.__ROUTES__ = staticRoutes;

        if (mod.default && typeof mod.default.mount === 'function') {
            mod.default.mount('#app');
        }
    </script>
</body>
</html>
